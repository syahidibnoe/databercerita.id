<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Cerita 1-Lollipop Chart</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./boots34/css/bootstrap.min.css">
    <script src="./js/jquery-3.4.1.min.js"></script>
    <script src="./boots34/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="./css/cerita.css"> 
    <link rel="stylesheet" href="./css/slideanim.css">
    <script type="text/javascript" src="js/d3v5min.js"></script>
    <style>
        .angka{
            background-color: blue;
            border-style: solid;
            border-width: 1px;
            padding: 3px 6px 7px 6px;
            /* padding-left: 1px; */
        }
    </style>

</head>
<body>
  <div id="gallery" class="container-fluid asw" style="background-color: #ebd5bd">
    <!-- <div id="gallery" class="container-fluid asw" style="background-color: black"> -->
    <div class="row" style="height:90vh; ">
      <div class="col-sm-12">
        <br>
        <div id="myCarousel" class="carousel slide text-center" data-ride="carousel" data-interval=false>
            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox" style="background-color: whitesmoke">
            <!-- <div class="carousel-inner" role="listbox"> -->

                <!-- HALAMAN 1 -->
                <div class="item active">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-12 narasi-cerita gambar-1" style="font-size:15px; height:560px; width:1210px; margin:20px;">
                        <h3 style="text-align:center;  color:darkslategrey; margin-bottom: 0px;">Seberapa Peduli Masyarakat Indonesia Terhadap Lingkungan Hidup?</h3><br>
                        <p style="padding-left:8px;padding-right:8px; font-size: 16px;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	
                            <i><b>"</b>Orang bilang tanah kita tanah surga, tongkat kayu dan batu jadi tanaman<b>"</b></i> begitu bunyi sepenggal kalimat <b>Koes Plus</b> dalam lagu “Kolam Susu”. Kalimat ini menceritakan betapa banyak kekayaan alam yang dimiliki Indonesia, tekhusus kesuburan tanahnya. Negara Indonesia juga dilewati oleh garis khatulistiwa dan mendapat pancaran cahaya matahari sepanjang tahunnya. Namun seberapa peduli masyarakat Indonesia terhadap anugerah yang sudah diberikan? Sudahkah masyarakat Indonesia mengoptimalkan fungsi matahari sebagai sumber penerangan? Apakah masyarakat masih membuang sampah ke sungai atau membakarnya sehingga menyebabkan kerusakan lingkungan? Rasanya sudah saatnya mengevaluasi tingkat ketidakpedulian masyarakat Indonesia terhadap lingkungan. Dari data <b>SUSENAS Modul Ketahanan Sosial</b> tahun 2017, didapat informasi yang menunjukkan tingkat ketidakpedulian masyarakat Indonesia terhadap lingkungan hidup.
                            <br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                            <b>Grafik</b> di samping (halaman 2) menyajikan gambaran tingkat ketidakpedulian masyarakat Indonesia terhadap lingkungan hidup di masing-masing indikator menurut provinsi. Terdapat 10 indikator yang tersedia dan  untuk tiap indikator, provinsi dapat dikelompokkan menurut pulau ataupun menurut peringkat dari tertinggi hingga terendah. Kotak dibawah grafik berisi keterangan tambahan mengenai grafik. Dari grafik di samping, ada banyak informasi yang terllihat. 
                            <!-- <br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  -->
                            <b>Menurut indeks</b>, perilaku ketidakpedulian di tiap provinsi cukup mirip. Namun jika dirinci menurut indikator perilaku ketidakpedulian, maka akan terlihat perbedaan karakteristik di tiap provinsi. Informasi lain yang dapat diambil adalah sebagai berikut:<br>
                            <ul  style="list-style-type:square">
                                <li><b>Provinsi DKI Jakarta</b> merupakan provinsi tertinggi dalam ketidakpedulian terhadap penggunaan lampu hemat energi. <b>Sekitar 20%</b> atau <b>satu diantara lima</b> rumah tangga di DKI Jakarta belum menggunakan lampu hemat energi sama sekali di rumahnya</li>
                                <li>Dalam hal perilaku buang sampah, <b>Provinsi DKI Jakarta</b> menjadi provinsi terendah dalam ketidakpeduliannya. Artinya pengangkutan sampah di Provinsi DKI Jakarta dianggap sudah sangat baik sehingga sangat sedikit rumah tangga yang masih membuang sampah dibakar, atau dibuang sembarangan.</li>
                                <li>Untuk perilaku terhadap barang bekas</b>, persentase rumah tangga di <b>Pulau Sulawesi</b> yang membuang barang bekas layak pakai cenderung lebih rendah dibanding provinsi di pulau lain.</li>
                            </ul>
                            &nbsp;&nbsp;&nbsp;
                            Data selengkapnya mengenai tingkat ketidakpedulian terhadap lingkungan hidup di masing-masing provinsi dapat dilihat pada grafik di samping.

                        </p>
                    </div>
                    <div class="col-sm-1"></div>
                </div>

                <!-- HALAMAN 2 -->
                <div  class="item">
                    <div id="Container">
                        <h3 style="text-align:center; color:darkslategrey; margin: 0 ; padding-top: 0.5em;"> 
                            PERSENTASE RUMAH TANGGA BERPERILAKU TIDAK PEDULI LINGKUNGAN<br>MENURUT INDIKATOR DAN PROVINSI
                        </h3>

                        <!-- Opsi Indikator -->
                        <div class="opti" style="padding-top: 1em; ">
                            <text>Pilih Indikator : </text>
                            <select name="opsi" id="opsi" value="Pilih Kategori" style="height:25px;">
                                <option value="Lampu_HE"  >Lampu Hemat Energi</option>
                                <option value="Panci"	  >Menutup Panci</option>
                                <option value="MatiinLampu" >Mematikan Lampu</option>
                                <option value="Matahari"  >Pemanfaatan Matahari</option>
                                <option value="TV"		  >Penggunaan TV</option>
                                <option value="DayaRendah" >Daya Rendah</option>
                                <option value="PilahSampah">Memilah Sampah</option>
                                <option value="BuangSampah">Buang Sampah</option>
                                <option value="BarangBekas">Barang Bekas</option>
                                <option value="TasBelanja" >Tas Belanja</option>
                                <option value="IPKLH"      >IPKLH</option>
                            </select>

                        </div>
                        <div>
                            <!-- Lollipop Chart --> 
                            <script src="js/chart.js"></script> 
                        </div>
                        <div >
                            Disusun Menurut : 
                            <button id = "pulau" class="btn btnn" onclick="Urutan(1,'pulau')">Pulau</button>
                            <button id = "rank" class="btn btnn" onclick="Urutan(2,'rank')">Ranking</button>	

                            <p style="font-size:14px;text-align:right; "> 
                                *Klik lingkaran untuk melihat detil angka 
                                &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                            </p>
                        </div>

                        <!-- default tombol aktif pengurutan -->
                        <script>
                            document.getElementById("pulau").style.backgroundColor = "brown";
                            document.getElementById("pulau").style.color = "white"; 
                        </script>
                    </div>
                </div>  
                <div class="item" >
                    <div class="col-sm-12 narasi-cerita gambar-1" style="font-size:16px; height:550px; width:1210px; margin:20px;">
                        <br><br><br><br><br><br><br><br><br><br><br><br>
                        <div style="text-align: center;">
                            <button class ="btn btn-primary" style="width:150px;" onclick="window.location.href='./index.html'"> Kembali ke Galeri </button>
                            <button class ="btn btn-success" style="width:150px;" onclick="window.location.href='https://forms.gle/1EqvxaiG1hY5z6Ef6'"> Isi Survei Evaluasi </button>
                        </div>                    
                    </div>
                </div>
                    
            </div>
    
            <!-- Left and right controls -->
            <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev" style="width:12px">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next" style="width:12px">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
      </div>   
    </div>
  </div>
  <div style="background-color:#ebd5bd; height:25px">
  </div>

    <!-- SMOOTH SCROLLING -->
    <script>
        $(document).ready(function(){
        // Add smooth scrolling to all links in navbar + footer link
        $(".navbar a, footer a[href='#myPage']").on('click', function(event) {
            // Make sure this.hash has a value before overriding default behavior
            if (this.hash !== "") {
            // Prevent default anchor click behavior
            event.preventDefault();

            // Store hash
            var hash = this.hash;

            // Using jQuery's animate() method to add smooth page scroll
            // The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
            $('html, body').animate({
                scrollTop: $(hash).offset().top
            }, 900, function(){
        
                // Add hash (#) to URL when done scrolling (default click behavior)
                window.location.hash = hash;
            });
            } // End if
        });
        
        $(window).scroll(function() {
            $(".slideanim").each(function(){
            var pos = $(this).offset().top;

            var winTop = $(window).scrollTop();
                if (pos < winTop + 600) {
                $(this).addClass("slide");
                }
            });
        });
        })

        $("#opsi").on("change",Ganti);

        // Transisi pindah slide ke grafik
        $("#myCarousel").on('slide.bs.carousel', function () {
            d3.csv("dataa/"+datum+".csv").then(function(data) {
                var y = d3.scaleLinear()
                    .domain([0, batas(datum)])
                    .range([h,0]);

                svg.selectAll("line.garis")
                        .transition().duration(800)
                        .attr('y2',h);

                svg.selectAll("circle.lings")
                    .transition().duration(800)
                    .attr("cy",h);
                
                svg.selectAll("circle.lings")
                    .transition().duration(800)
                    .attr("cy",h);
                
                svg.select("line.nasional")
                    .transition().duration(80)
                    .style("opacity",0)

                svg.selectAll("line.garis")
                .data(data)
                    .transition().duration(1000).delay(500)
                    .attr('y2',function(d){ return y(d.Value)})

                svg.selectAll("circle.lings")
                .data(data)
                    .transition().duration(1000).delay(500)
                    .attr("cy",function(d){ return y(d.Value)})

                svg.selectAll("circle.lings")
                .data(data)
                    .transition().duration(1000).delay(500)
                    .attr("cy",function(d){ return y(d.Value)})

                svg.select("line.nasional")
                    .transition().duration(1000).delay(550)
                    .style("opacity",1)

                canvas.selectAll("text.ket_nas")
                    .transition().duration(80)
                    .style("opacity",0)

                canvas.selectAll("text.ket_nas")
                    .transition().duration(1000).delay(550)
                    .style("opacity",1)
            })
            // alert('A new slide is about to be shown!');   
        });
    </script>


</body>
</html>
